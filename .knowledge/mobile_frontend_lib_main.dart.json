{"is_source_file": true, "format": "Dart", "description": "Main Flutter application source code defining the audiobook app, including models, state management with provider, UI screens (store, library, player), and app initialization.", "external_files": ["package:flutter/material.dart", "package:provider/provider.dart", "package:shared_preferences/shared_preferences.dart"], "external_methods": ["runApp", "ChangeNotifierProvider", "Consumer", "MaterialApp", "Navigator", "SharedPreferences.getInstance", "SharedPreferences.setStringList", "SharedPreferences.setString", "SharedPreferences.setInt", "SharedPreferences.remove", "Image.network", "ScaffoldMessenger.of", "SnackBar", "setState", "mounted"], "published": ["main", "Audiobook", "AudiobookProvider", "AudiobookApp", "MainTabScreen", "StoreScreen", "LibraryScreen", "PlayerScreen"], "classes": [{"name": "Audiobook", "description": "Model class representing an audiobook with properties like id, title, author, cover URL, audio URL, description, and duration."}, {"name": "AudiobookProvider", "description": "State management class using ChangeNotifier, managing catalog, library, playback state, and preferences."}, {"name": "AudiobookApp", "description": "Root widget initializing the app with theme and provider."}, {"name": "MainTabScreen", "description": "Stateful widget managing bottom tab navigation between Store, Library, and Player screens."}, {"name": "StoreScreen", "description": "Stateless widget displaying available audiobooks for purchase or owned ones."}, {"name": "LibraryScreen", "description": "Stateless widget showing purchased audiobooks with playback controls."}, {"name": "PlayerScreen", "description": "Stateful widget providing playback controls, progress slider, and audiobook details."}], "methods": [{"name": "main", "description": "Application entry point, runs the AudiobookApp."}, {"name": "toJson", "description": "Converts an Audiobook object to a JSON map."}, {"name": "fromJson", "description": "Creates an Audiobook object from a JSON map."}, {"name": "AudiobookProvider", "description": "Constructor initializing state and loading preferences asynchronously."}, {"name": "_initAsync", "description": "Loads saved data (library, playback positions, current audiobook) from SharedPreferences."}, {"name": "purchase", "description": "Adds an audiobook to user's library and updates preferences."}, {"name": "ownedBooks", "description": "Returns list of audiobooks owned by the user."}, {"name": "play", "description": "Starts playback of a selected audiobook, updating state and preferences."}, {"name": "seekRelative", "description": "Adjusts playback position relative to current position."}, {"name": "savePosition", "description": "Saves specific playback position."}, {"name": "getPlaybackPosition", "description": "Retrieves saved playback position for an audiobook."}, {"name": "stopPlayback", "description": "Stops current playback and clears related preferences."}, {"name": "build", "description": "Build method for each widget to define UI layout."}, {"name": "_secToMinSec", "description": "Utility to format seconds into mm:ss string."}], "calls": ["runApp", "ChangeNotifierProvider", "Consumer", "MaterialApp", "Provider.of", "notifyListeners", "SharedPreferences.getInstance", "SharedPreferences.setStringList", "SharedPreferences.setString", "SharedPreferences.setInt", "SharedPreferences.remove", "Image.network", "ScaffoldMessenger.of", "SnackBar", "setState"], "search-terms": ["Audiobook", "Provider", "SharedPreferences", "main.dart", "flutter", "app theme", "audio playback", "library management", "purchase flow", "UI screens", "navigation", "progress and seek", "state management"], "state": 2, "file_id": 16, "knowledge_revision": 43, "git_revision": "", "revision_history": [{"37": ""}, {"40": ""}, {"41": ""}, {"43": ""}], "hash": "27bba165c51fb7677a802f97f9d4ecb5", "format-version": 4, "code-base-name": "mobile_frontend", "filename": "mobile_frontend/lib/main.dart"}